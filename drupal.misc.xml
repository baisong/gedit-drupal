<?xml version='1.0' encoding='utf-8'?>
<snippets language="drupal">
  <snippet>
    <text><![CDATA[$<
# Define global variable
global module_name

####### Module name ##########
# Check if current file is empty
if $GEDIT_BASENAME != '' :
  # extract fil name (no extension)
  module_name = $GEDIT_BASENAME.split('.')[0].lower()
else:
  # Default module name
  module_name = 'mymodule'

>; $$(echo 'I')d$
name = $<return module_name>
description = ${1:Module description}
package = ${2:package}
version = ${3:1.0}
core = ${4:6.x}]]></text>
    <tag>info</tag>
    <description>info</description>
  </snippet>
  <snippet>
    <text><![CDATA[$<
# Define global variable
global module_name

####### Module name ##########
# Check if current file is empty
if $GEDIT_BASENAME != '' :
  # extract fil name (no extension)
  module_name = $GEDIT_BASENAME.split('.')[0].lower()
else:
  # Default module name
  module_name = 'mymodule'

><?php // $$(echo 'I')d$
/**
 * Module:      $<return module_name>
 * Date:        $(date +%Y-%m-%d%t%k:%M)
 * Author:      $(whoami)
 *
 * License:
 *   ${1}
 *   Copyright (C) $(date +%Y)  $(whoami)
 *
 *   This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published by
 *   the Free Software Foundation, either version 3 of the License, or
 *   (at your option) any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.pro See the
 *   GNU General Public License for more details.
 *
 *   You should have received a copy of the GNU General Public License
 *   along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */

/**
 * Implementation of hook_install().
 */
function $<return module_name>_install() {
  // Install tables
  drupal_install_schema('$<return module_name>');
}

/**
 * Implementation of hook_uninstall().
 */
function $<return module_name>_uninstall() {
  // Remove tables
  drupal_uninstall_schema('$<return module_name>');
  
  // Remove all variable into table
  $result = db_query('SELECT name FROM {variable} WHERE name LIKE "${1}_%"');
  while ($row = db_fetch_object($result)) {
    variable_del($row->name);
  }
}

/**
 * Implementation of hook_schema().
 */
function $<return module_name>_schema() {
  $schema['$<return module_name>'] = array(
    'description' => t('${2:description}'),
    'fields' => array(
      '${3}' => array(
        'description' => t('${4}'),
        'type'        => '${5:serial}',
        'unsigned'    => ${6:TRUE},
        'not null'    => ${7:TRUE},
      ),
      '${13}' => array(
        'description' => t('${14}'),
        'type'        => '${15:int}',
        'unsigned'    => ${16:TRUE},
        'not null'    => ${17:TRUE},
        'default'     => ${18:0},
      ),
      '${23}' => array(
        'description' => t('${24}'),
        'type'        => '${25:varchar}',
        'length'      => ${26:32},
        'not null'    => ${27:TRUE},
        'default'     => '${28}',
      ),
    ),
    'primary key'     => array('${3}'),
  );
  return $schema;
}
]]></text>
    <tag>install</tag>
    <description>install</description>
  </snippet>
  <snippet>
    <text><![CDATA[$<
# Define global variable
global module_name

####### Module name ##########
# Check if current file is empty
if $GEDIT_BASENAME != '' :
  # extract fil name (no extension)
  module_name = $GEDIT_BASENAME.split('.')[0].lower()
else:
  # Default module name
  module_name = 'mymodule'

><?php // $$(echo 'I')d$
/**
 * Module:      $<return module_name>
 * Date:        $(3:date +%Y-%m-%d%t%k:%M)
 * Author:      $(4:whoami)
 *
 * Description:
 *   ${2:description}
 *
 * License:
 *   ${1}
 *   Copyright (C) $(date +%Y)  $(whoami)
 *
 *   This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published by
 *   the Free Software Foundation, either version 3 of the License, or
 *   (at your option) any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.pro See the
 *   GNU General Public License for more details.
 *
 *   You should have received a copy of the GNU General Public License
 *   along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */]]></text>
    <tag>module</tag>
    <description>module</description>
  </snippet>
</snippets>
